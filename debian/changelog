osmo-bts (1.2.1) unstable; urgency=medium

  * fix compilation with gcc-10

 -- Harald Welte <laforge@osmocom.org>  Sun, 26 Jul 2020 11:52:23 +0200

osmo-bts (1.2.0) unstable; urgency=medium

  [ Oliver Smith ]
  * Cosmetic: virtual: l1sap.c: fix typos
  * virtual: set link quality for GSMTAP_CHANNEL_RACH
  * pcu_sock: fix endian-swapped CellID
  * gitignore: add oc2g generated files
  * log: set L1 SAPI log context
  * vty: add "logging filter l1-sapi"
  * vty.c: don't ignore get_string_value() errors
  * vty.c: avoid coverity BAD_SHIFT issues
  * osmo-bts-virtual.cfg: ms-power-control dsp -> osmo

  [ Harald Welte ]
  * ETWS Primary Notification via P1 Rest Octets
  * pcu_interface: Forward ETWS Primary Notification to PCU
  * doc: Update Abis manual RSL section with ETWS related infomration
  * osmo-bts-trx/scheduler: prevent uninitialized memory access
  * osmo-bts-trx: migrate to new generic ECU abstraction
  * rach_pass_filter(): Add information about channel type

  [ Vadim Yanitskiy ]
  * common/rsl.c: fix possible NULL-pointer dereference
  * osmo-bts-trx/scheduler: fix tx_tch_common(): do not send AMR BFI twice
  * osmo-bts-trx/scheduler: add FIXME note about FACCH/H and BFI
  * osmo-bts-trx/scheduler: fix: check rc of osmo_ecu_frame_out()
  * scheduler: fix handling of PTCCH/U and PTCCH/D logical channels
  * osmo-bts-trx/scheduler: also detect TSC for Access Bursts on PDCH
  * common/l1sap: increase ToA precision for packet Access Bursts
  * L1SAP: use RSL_CHAN_* definitions from libosmogsm
  * L1SAP: also consider RSL_CHAN_OSMO_CBCH8 as CBCH
  * L1SAP: clarify debug messages in rach_pass_filter()
  * L1SAP: do not pass unused parameter to l1sap_handover_rach()
  * L1SAP: refactor handling of Access Bursts on PDCH
  * L1SAP: properly handle 11-bit encoded RACH.ind in gsmtap_ph_rach()
  * L1SAP: use the actual ARFCN for outgoing PCUIF messages
  * L1SAP: fix gsmtap_pdch(): there can be no DATA.ind on PTCCH/U
  * L1SAP: use GSMTAP_CHANNEL_PDTCH for PDTCH blocks by default
  * L1SAP: there can be no DATA.ind primitives on PTCCH/U, reject them
  * README.md: update osmo-bts-trx specific limitations
  * osmo-bts-trx/scheduler: fix: print the last frame number in rx_data_fn()
  * osmo-bts-trx: general handling of NOPE / IDLE indications
  * osmo-bts-trx/trx_if.c: fix: always initialize bi->burst_len for NOPE.ind
  * osmo-bts-trx/trx_if.c: also print both RSSI and ToA256 for NOPE.ind
  * osmo-bts-trx/trx_if.c: fix: NOPE.ind also contains C/I field
  * pcuif_proto.h: extend RACH.ind with TRX and timeslot number fields
  * common/vty.c: fix: properly assert() the result of get_string_value()
  * common/abis.c: pass gsm_bts_trx to e1inp_sign_link_create()
  * common/abis.c: use tall_bts_ctx as talloc-context for libosmo_abis_init()
  * osmo-bts-trx/vty: ensure backwards compatibility with older config files

  [ Pau Espin Pedrol ]
  * bts-trx: Log case where no SETFORMAT is sent
  * bts-trx: Change super verbose IDLE ind not-supported line to DEBUG
  * doc: bts-models.adoc: Fix typos in rts-advance section
  * bts-trx: vty: Use API to get poweron state
  * bts.h: Remove non-existent function definitions
  * scheduler.c: Move some message log level to DEBUG
  * scheduler: Use OSMO_ASSERT instead of abort
  * l1sap: Log conn dropped due to radio link counter timeout
  * struct gsm_bts: Add model_priv pointer handing bts_model specific data
  * bts-trx: Allocate struct osmo_trx_clock_state as part of bts-trx private data
  * bts-trx: vty: Print phy link state in cmd 'show transceiver'
  * bts-trx: trx_set_bts(): Avoid double loop by checking current trx
  * bts-trx: Rework code handling poweron state
  * bts-trx: Don't reset transceiver_available in scheduler_trx.c
  * bts-trx: Get rid of messy transceiver_available state handler
  * bts-trx: Drop unused func check_transceiver_availability()
  * bts-trx: Log TRXC and TRXD socket recv()/send() failures
  * bts-trx: Time out if no clock ind recvd after RSP POWERON
  * cosmetic: bts-trx: document variable power level
  * bts-trx: loops.c: Take into account RSL CHAN ACT ms power level limits
  * loops.h: Fix missing include for struct l1sched_trx
  * power_control.c: Take into account RSL CHAN ACT ms power level limits
  * cosmetic: l1sap.c: Fix typo
  * rsl: Assign recv pwr to lchan's max ms power
  * bts-trx: Implement MS Power control loop calculations using dBm instead of ctl levels
  * rsl: Fix logged value in rx MS Power Control
  * cosmetic: Fix trailing whitespace
  * Change gsm_bts_trx field to bool and rename it
  * Change gsm_lchan field fixed to bool
  * rsl: Remove unneeded duplicate reset on some lchan fields
  * Move and rename gsm_lchan.ms_power field
  * bts-trx: loops.c: Avoid always clamping MS power to MS power class 1
  * power_control.c: Apply latests improvements from loops.c
  * power_control.c: Log rx current and target signal levels
  * power_control.c: Fix ms pwr ctrl skipped if MS doesn't support announced MS Power Level
  * Introduce BTS feature BTS_FEAT_MS_PWR_CTRL_DSP
  * power_control.c: Don't use announced MS Power level as input for loop calculations
  * power_control.c: Limit speed of announced MS Power Level value changes
  * scheduler_trx.c: cast ptrdiff value to fix printf format
  * bts-trx: Drop low layer MS Power Control Loop algo
  * rsl_rx_chan_act: Apply bitmask when parsing IE MS_POWER
  * rsl: Clarify when autnonoums MS Power Ctrl Loop is used
  * power_control.c: Log maximum allowed MS Power Level
  * power_control.c: Clarify loop algo vars and use correct ones during log
  * l1sap: is_fille_frame(): verify len of data compared

  [ Martin Hauke ]
  * Fix common misspellings and typos
  * Rename variable: CALIB_SUCESS -> CALIB_SUCCESS

  [ Philipp Maier ]
  * scheduler_trx: use gsm0502_fn_remap() to calculate frame number
  * scheduler_trx: initalize n_errors, n_bursts_bits, n_bits_total
  * scheduler_trx.c: avoid division by zero when calculating BER
  * rsl: ensure measurement reports are sent
  * l1sap.c: ensure ms power control loop is running

 -- Pau Espin Pedrol <pespin@sysmocom.de>  Fri, 03 Jan 2020 17:18:44 +0100

osmo-bts (1.1.0) unstable; urgency=medium

  [ Daniel Willmann ]
  * Rename oc2g config file to match new naming scheme
  * dump_docs: Use new config file naming scheme
  * systemd: Install OC2G service files with autotools
  * doc/examples: Install OC2G config files with autotools
  * osmo-bts-oc2g: Fix status LED responsibilities
  * osmo-bts-lc15: Change LED behaviour to be the same as oc2g
  * manuals: Add script to regenerate counter/vty documentation
  * manuals: Add counter documentation
  * manuals: Update vty documentation

  [ Harald Welte ]
  * Bump version: 0.8.1.199-5c93-dirty â†’ 1.0.0
  * scheduler_trx: Fix erroneous multiply-by-four
  * OML: some more comments on what functions do
  * OML: Return attributes in ACK/NACK messages
  * OML: Ensure MOs are initialized with valid "Administrative State'
  * OML: Don't overwrite MO instance before oml_tx_failure_event_rep()
  * OML: remove double-logging on oml_tx_failure_event_rep()
  * OML: send proper OML alerts in case of errors
  * OML: Reduce code duplication in down_mom/down_fom
  * OML: Report short messages even for invalid TRX numbers in down_fom()
  * OML: Use 'const struct abis_oml_mo *' whenever users only read
  * OML: Reject segmented OML messages
  * OML: Properly reject short messages and truncate over-long messages
  * OML: Work around OsmoBSC sending "GET ATTRIBUTES" with short length
  * OML: Store merged attributes of IPA OML Managed Objects
  * OML: Don't advertise baseband transceiver as UNLOCKED at startup
  * OC-2G: Nominal transmit power is 25 dBm, not 40
  * rsl.c: Add missing #include of gsm0808.h
  * Forward GPRS SUSPEND REQ from DCCH to PCU socket
  * handle NULL return from rate_ctr_group_alloc()
  * rsl: Send RSL Error Report in case of unknown/unsupported msg_type
  * rsl: Include Channel Nr and Link ID in Error reports whenever possible
  * RSL: Reject RLL messages for lchans that are not active yet
  * RSL: Fix off-by-one error when parsing SACCH INFO IE in RSL CHAN ACT
  * cbch: Implement handling of "Schedule" message
  * cbch: Refactor get_smscb_block() / remove smscb_msg.next_seg
  * cbch: Log every RSL SMSCB COMMAND with type and number of blocks
  * cbch: Implement support for DEFAULT message
  * cbch: Fix memory leak and send error message on invalid SMSCB command
  * cbch: Support Extended CBCH
  * cbch: Keep SMSCB queue length counter
  * manual: We now support RSL CBCH LOAD INDICATION
  * manual: SMSCB BROADCAST COMMAND has no limitations anymore
  * README.md: Mention LimeSDR as SDR device
  * sysmo: Fix "nominal power" / BS power display in VTY
  * cbch: Add counters; queue length limits and CBCH LOAD reporting
  * cbch: Improve verbosity and extend logging; Always indicate BASIC/EXTD CBCH
  * Use LOGPLCHAN whenever possible
  * rsl.adoc: DELETE INDICATION is implemented since Feb '18
  * RSL: Fix logic about fixed/dynamic MS power control in MS POWER COMMAND
  * rsl: Implement parsing of BS Power Control message
  * rsl: MS POWER COCNTROL isn't (only) about "forcing" power levels
  * load_indication: Fix missing re-set of RACH parameters
  * l1sap: Correctly count RACH slots in calc_exprd_rach_frames()
  * l1sap: Fix calculation of expired RACH slots in case of missing frame numbers
  * oml: Print more context from FOM Header or using MO
  * oml: Have one generic log message for all transmitted messages
  * Add severity to OML FAILURE EVENT REPORT
  * Fix passing of RR SUSPEND REQ from DCCH to PCU socket
  * clear GPRS indicator in SI3 while PCU is disconnected
  * trx: Update documentation for fn-advance and rts-advance
  * l1sap: Compute statistics on FN advance in PH-RTS.ind
  * [correctly] use the LAPDm T200 values received via OML
  * Update T200 timer default values
  * lapdm: Use new libosmocore API to ensure per-channel-type N200 values
  * sysmo/l1_if.c: Annotate fall-through in switch statement
  * osmo-bts-trx: Don't increment rssi_valid_count twice
  * osmo-bts-trx: Don't attemtp to adjust MS power if fixed
  * scheduler_trx: Handle negative return of gsm0503_tch_hr_decode()

  [ Vadim Yanitskiy ]
  * common/vty.c: fix 'cfg_phy_no_inst_cmd' command description
  * common/oml.c: fix: properly push abis_nm_ipa_magic
  * common/pcu_sock.c: fix possible memleaks in pcu_sock_read()
  * common/oml.c: constify argument 'trx' of handle_attrs_trx()
  * common/oml.c: use proper NACK reason in oml_tx_attr_resp()
  * common/oml.c: use proper OML object for Get Attribute Response
  * common/oml.c: fix total length calculation in cleanup_attr_msg()
  * common/l1sap.c: fix: add missing new line to a debug message
  * common/rsl.c: fix size argument in memcmp() call
  * common/rsl.c: fix unaligned pointers in rsl_add_rtp_stats()
  * common/paging.c: fix unaligned pointer access
  * common/oml.c: introduce and use both LOGPFOH and DEBUGPFOH
  * common/oml.c: use proper format specifier for uint16_t
  * common/oml.c: fix broken debug print in down_mom()
  * common/oml.c: refactor Get Attribute Response message generation
  * common/oml.c: fix: properly encode NM_ATT_SW_CONFIG
  * osmo-bts-trx: distinguish 11-bit Access Bursts by synch. sequence
  * osmo-bts-sysmo: fix: indicate BTS_FEAT_CBCH support on OML
  * README.md: remove OS#1865 from 'Known limitations'
  * common/rsl.c: fix NULL-pointer dereference in rsl_rx_rll()
  * osmo-bts-trx/trx_if.c: dropping Tx bursts is a noticeable event
  * osmo-bts-trx/l1_if.h: drop unused ho_rach_detect from trx_l1h
  * osmo-bts/scheduler.h: cosmetic: use bool for ho_rach_detect
  * common/rsl.c: RSL_IE_HANDO_REF is mandatory for handover CHAN ACT
  * common/bts.c: bts_supports_cm(): take care about GSM48_CMODE_SIGN
  * Use #define RSL_CHAN_RACH for RSL Channel Number of RACH
  * common/scheduler.c: refactor description of TRXC_* lchans
  * osmo-bts-trx/trx_if.c: use osmo_loadXXbe() for TDMA FN and ToA256
  * osmo-bts-trx/trx_if.c: rename and clarify TRX_MAX_BURST_LEN
  * osmo-bts-trx/trx_if.c: introduce TRXD header version handling
  * osmo-bts-trx/trx_if.c: introduce TRXD header version 0x01 support
  * osmo-bts-trx/trx_if.c: drop RSSI / ToA debugging code
  * osmo-bts-trx/trx_if.c: properly describe TRXD messages in logs
  * osmo-bts-trx/trx_if.c: add TRXD header version negotiation
  * osmo-bts-trx/trx_if.c: encode actual TRXD header version
  * osmo-bts-trx/scheduler: pass trx_ul_burst_ind to lchan handlers
  * osmo-bts/scheduler: provide actual C/I values to OsmoPCU
  * osmo-bts-trx/scheduler: rx_rach_fn(): use optional TSC info from TRX
  * osmo-bts-trx/scheduler: rx_rach_fn(): clarify handover RACH handling
  * osmo-bts-trx/scheduler: rx_rach_fn(): enrich debug message
  * common/rsl.c: fix: properly handle SI3 Rest Octets
  * Clarify and refactor link quality (C/I) handling
  * Move Access Burst link quality handling to L1SAP
  * osmo-bts-trx/scheduler: rx_rach_fn(): provide actual C/I ratio to L1SAP
  * osmo-bts-trx/scheduler: rx_data_fn(): provide actual C/I ratio to L1SAP

  [ Max ]
  * osmo-bts-trx: add extended (11-bit) RACH support
  * Log lchan kind on PCU-related error
  * Enable statsd support
  * Make gsm_pchan2chan_nr() static
  * Constify pcu_rx_*() parameters

  [ Philipp Maier ]
  * scheduler_trx: use stored fn for pdtch data indications
  * oc2g: remove unused define constant FACTORY_ROM_PATH
  * lc15: remove unused define constant FACTORY_ROM_PATH
  * oml: make oml_tx_failure_event_rep() public
  * oc2gbts_mgr_vty: remove calls to vty_install_default()
  * oc2g: l1if: delay trx initialization to avoid race condition
  * oc2gbts_mgr: use msgb_talloc_ctx_init() instead of msgb_set_talloc_ctx()
  * oc2g: generate failure event report in case of bad calibration
  * oc2g: change log level for calibration file errors to FATAL
  * vty: add function gsmnet_from_vty() to vty.h
  * main: remove wrong call to oml_fail_rep() on SIGUSR1/2 and SIGABRT
  * oml: use oml_tx_failure_event_rep() instead of oml_fail_rep()
  * oml: use oml_tx_failure_event_rep() instead of signals to SS_FAIL
  * l1_if: add include for missing header file
  * oc2gbts_mgr_calib: don't use fsync() on *FILE pointer
  * oc2gbts_mgr_calib: do not return NULL on integer function
  * oc2gbts_mgr: use osmo_init_logging2() instead of osmo_init_logging()
  * pcu_sock: use %zu conversion specifier for printing sizeof() result

  [ Pau Espin Pedrol ]
  * oc2g: Fix compilation error (comment mark inside comment)
  * oc2g: Add get_hwversion_desc to header file
  * oc2g: Cleanup of get_hwversion_desc
  * oc2g: led_sleep_cb: pass correct ptr to llist_move_tail
  * oc2g: fsync requires fd instead of file stream
  * oc2g: Remove unused variables
  * oc2g: Remove unused static function
  * oc2g: vty: Compilation error fixes due to commented code
  * contrib: Remove deprecated screen script helpers
  * bts-trx: trx_if.c: Introduce logging macro LOGPPHI
  * gsm_data_shared.h: Remove unused loc_list from struct gsm_bts
  * bts: Bypass T200 DCCH values for CCCH
  * bts-trx: Introduce VTY command osmotrx trxd-max-version
  * trx: Use LOGPPHI instead of LOGP in some more messages
  * Remove undefined param passed to {logging,osmo_stats}_vty_add_cmds
  * configure.ac: Require libosmocore 1.2.0

  [ Alexander Huemer ]
  * Remove 11-bit RACH support from 'Known Limitations'

  [ Oliver Smith ]
  * debian: create -doc subpackage with pdf manuals
  * Revert "debian: create -doc subpackage with pdf manuals"
  * debian: create -doc subpackage with pdf manuals
  * contrib/jenkins.sh: run "make maintainer-clean"

  [ Neels Hofmeyr ]
  * lc15,sysmo,oc2g: fix dsp-trace-flag command

  [ Eric Wild ]
  * revert changes to T200
  * RSL: Fix fixed MS power control in RSL CHAN ACTIV

  [ Thorsten Alteholz ]
  * fix spelling stuff mentioned by lintian

 -- Pau Espin Pedrol <pespin@sysmocom.de>  Wed, 07 Aug 2019 15:59:02 +0200

osmo-bts (1.0.0) unstable; urgency=medium

  [ Stefan Sperling ]
  * let osmo-bts log a special notice if OML connection is closed early
  * log reception of PCU_IF_MSG_PAG_REQ messages from osmo-pcu
  * update sysinfo copies in all lchans upon SACCH FILL
  * preserve lchan-specific SI overrides on SACCH FILL
  * fix timespec subtraction in compute_elapsed_us()
  * fix conditions for sending fill frames during RTS IND
  * send TCH/F fill frames in DTX mode (WIP)
  * Revert "send TCH/F fill frames in DTX mode (WIP)"
  * prevent potential NULL dereference in virtbts's tx_tchh_fn
  * properly initialize si3 in test_is_ccch_for_agch_setup()
  * add missing check of osmo_wqueue_enqueue() return value

  [ Harald Welte ]
  * scheduler_trx: Add reminders to use libosmocore functions
  * cosmetic: it's n_r in check_for_first_ciphrd(), not n_s
  * Add min/max/std-dev measurement reporting for TOA256
  * debian/rules: Don't overwrite .tarball-version
  * CBCH: Fix rejecting SMS-CB related RSL messages
  * [sysmo,lc15]: Consider CBCH channel combinations in chan_nr_by_sapi()
  * CBCH: Move processing via L1SAP
  * CBCH: Implement CBCH support for osmo-bts-{trx,virtual}
  * CBCH: Use llist_first_entry_or_null() instead of reinventing it
  * l1sap/scheduler: Consistently print chan_nr as hex number
  * CBCH: Fix CBCH via L1SAP for osmo-bts-{sysmo,octphy,litecell15}
  * get_lchan_by_chan_nr(): Fix resolution of CBCH
  * CBCH: Add FIXME comments on queue overflow/underflow handling
  * CBCH: sprinkle some OMSO_ASSERT() and guard against talloc failure
  * CBCH: Fix CBCH implementation for osmo-bts-trx
  * CBCH: Some more scheduler_mframe cleanup
  * ensure all config file examples are well-formed
  * lc15bts_mgr_vty: Ensure writing well-formed config files
  * paging_test: Fix AGCH/PCH split test for second half of 102 multiframe
  * Fix computing CCCH block number from frame number
  * sysmo, virtual: properly handle BS-AG-BLKS-RES as received from BSC
  * scheduler_trx.c: Switch to osmo_timerfd() of libosmocore >= 0.12.0
  * initial checkin of manuals to public repo
  * Add link to Asciidoc source code of manual
  * spelling: message discriminator, not descriminator
  * osmobts-abis: Add Revision log regarding dynamic cannels
  * Documentation on AMR RTP in case of DTX
  * rtp-amr.adoc: TCH/AFS Uplink
  * rtp-amr.adoc: TCH/AFS Downlink: Inhibiting
  * rtp-amr: TCH/AHS Uplink: FACCH/H During DTX
  * rtp-amr.adoc: New TCH/AHS downlink chapters
  * rtp-amr.adoc: Fixes to Message Sequence Charts
  * update osmo-bts-virtual documentation, now that code is merged
  * vty-ref: Update URI of docbook 5.0 schema
  * osmo-bts-trx/loops.c: Add comments documenting TA + MS power control loop
  * osmo-bts-trx/loops.[ch]: Make functions "void" if they always return 0
  * osmo-bts-trx/loops.c: Use lchan name based logging
  * osmo-bts-trx/loops.c: Make code control flow more readable

  [ Philipp Maier ]
  * rtp: make port range configurable, assign correct port numbers
  * octphy: add support for 16x oversampling mode
  * cosmetic: separate measurement testcase definitions
  * cosmetic: unify measurement sample handling in one function
  * measurement: make sure state is reset on chan act.
  * measurement: make sure measurement interval end is detected
  * measurement: fix measurement interval end detection
  * osmo_mcast_sock: make sure SO_REUSEADDR is applied
  * cosmetic: fix sourcecode formatting
  * cosmetic: remove wrong comment
  * measurement: add unit tests for is_meas_complete()
  * measurement: fix sub frame table for TCH/H, SS1
  * measurement: add unit tests for ts45008_83_is_sub()
  * measurement: fix is_meas_overdue() and increase testcoverage
  * cosmetic: rename *_meas_rep_fn10* to *_meas_rep_fn10*_by_*s
  * cosmetic: test_is_meas_overdue() does not test is_meas_complete()
  * measurement: substitue missing measurements
  * measurement: add SUB measurements in test_lchan_meas_process_measurement
  * paging: add unit-test to check different bs_ag_blks_res settings
  * measurement: display fn_mod when measuremnet is added
  * cosmetic: fix typo in comment
  * measurement: remove missed interval end detection
  * measurement: fix unit-test test_lchan_meas_process_measurement

  [ Pau Espin Pedrol ]
  * bts.c: Log name of RR msg type instead of value
  * bts.c: Add missing include for gsm48_rr_msg_name
  * bts_agch_enqueue: Decrease queue len hard_limit from 1000 to 100
  * compact AGCH queue: Drop too msg diff than IMM_ASS_REJ
  * Send DELETE_IND when dropping Imm Assign pending message
  * lc15: Use correct type for hLayer1 field
  * lc15: Fix incorrect cast of hLayer1
  * pcu_sock: Log event pcu_sock created
  * l1_if.c: Move decl of vars used in conditional macro
  * sysmo: vty: Add missing include for lchan_deactivate
  * sysmo: Fix memcmp in RF-MUTE.req for superfemto < 3.6.0
  * sysmo: l1if_mute_rf: Declare vars inside ifdef section
  * sysmo: l1_if.c: Avoid decl of unused vars and funcs with femtobts_v2.7 build
  * sysmo: calib_file.c: Avoid decl of unused vars and funcs with femtobts_v2.7 build
  * jenkins_*.sh: add --enable-werror to configure flags
  * doc: Move calypsoBTS example into trx subdir
  * build: Install example cfg files
  * debian: Package installed example doc files
  * Remove unneeded direct libortp dependency
  * debian: Make osmo-bts-* packages conflict with old osmo-bts package
  * debian: Create dbg package for osm-bts-virtual
  * rsl: Use value_string to print encryption algo name
  * l1sap: add_l1sap_header: Compact msgb_push ret assignment
  * sched: Log RX->RTP packet like we do in add_l1sap_header
  * scheduler: Log error on fn jump
  * trx: scheduler: Keep RTP clock up to date while in DTXu pause
  * Move systemd service to contrib/systemd
  * Install systemd services with autotools
  * Install sample cfg file to /etc/osmocom
  * doc/examples/Makefile: Install bts-mgr cfg files used by systemd services
  * lc15: vty: Add missing include for lchan_deactivate
  * lc15: fsync requires fd instead of file stream
  * lc15: rewrite and refactor code to print hwversion description
  * lc15: led_sleep_cb: pass correct ptr to llist_move_tail
  * abis: inp_s_cbfn: Improve logging signal related information
  * lchan_meas_check_compute: Log value during incorrect num of SUB measurementes detected
  * l1sap: Log name of chan_nr instead of hex value
  * rsl_rx_chan-activ: Improve logging information
  * gsm_pchan2chan_nr: Fix conversion of CCCH_LCHAN
  * Convert lchan CCCH_LCHAN to chan_nr BCCH and viceversa
  * {oc2g,sysmo}-mgr-calib: Fix build against gpsd >= 3.18
  * bts: Allocate TRX for BTS dynamically, deprecate -t
  * bts-trx: trx_if: Use struct to store CTRL msg parsed responses
  * bts-trx: setup timer once at creation time
  * common: Implement OML for trx_set_available(1)
  * bts-trx: Allow re-try without exit if POWERON fails in osmo-trx
  * bts: Fix TRX0 param initialization
  * rsl: Log lchan state during dynts PDCH->TCH
  * rsl: Avoid sending ipa PDCH DEACT NACK followed by ACK
  * bts-trx: early return on POWERON success
  * cosmetic: fix whitespace
  * bts_model: Allow TS connect to be processed asynchronously
  * OsmoBTS/chapters/configuration.adoc: Add bts index in example
  * OsmoBTS: Update osmotrx ip to diff between local and remote
  * rtp-amr: Describe requirement to recieve all PH-DATA.ind events
  * rtp-amr: Fix typo and trailing whitespace
  * Allow easily disabling GFDL references
  * OsmoBTS: bts-models: Add Lime Microsystems devices as supported osmo-trx
  * Introduce chapter trx_if.adoc and add it to OsmoTRX and OsmoBTS
  * bts: Fix typo
  * oc2g: Fix headers missing during make distcheck
  * bts-trx: (n)ack PDCH DEACT only after TRX answered SETSLOT
  * sysmobts_mgr: Prepare code for gpsd < 2.96 support
  * sysmobts_mgr: Add support for gpsd < 2.96
  * rsl: Send PDCH ACT NACK if TCH chan is still active

  [ Vadim Yanitskiy ]
  * Clarify frame loss counter for l1sched_chan_state
  * osmo-bts-trx/l1_if.c: cosmetic: fix typo in debug msg
  * common/rsl.c: tweak log message in lapdm_rll_tx_cb()
  * contrib/jenkins_*.sh: drop rudimentary '--with-osmo-pcu'
  * common/pcu_sock.c: cosmetic: explicitly address lchan
  * common/scheduler.c: track TDMA frame loss per logical channels
  * common/vty.c: fix deprecated osmo_str2lower() usage
  * Fix deprecated gsm_arfcn2band(), use gsm_arfcn2band_rc()

  [ Neels Hofmeyr ]
  * cosmetic: abis.c: typo "exixt"
  * fix ip.access dyn TS for osmo-bts-trx
  * fix RSL Chan Mode Modif for dyn TS
  * vty: mark 'rtp bind-ip' deprecated, not hidden
  * Importing history from osmo-gsm-manuals
  * OsmoBTS: typo x2 ('Objects Classes' -> 'Object Classes')
  * OsmoBTS: fix typos, streamline language style
  * OsmoBTS: s/content of this attribute/this attribute/
  * OsmoBTS: explain IEs marked 'ignored' *and* 'Received'
  * abis/oml.doc: remove duplicate sentence part
  * OsmoBTS: typos
  * OsmoBTS: wording tweak
  * OsmoBTS: hardware support: remove dup, tweak wording
  * Document dynamic channels on Abis, both IPA and Osmocom style
  * OsmoBTS/abis/rsl: fix subtitle for ladder diagram of osmo dyn switchover
  * OsmoBTS/abis/dyn_ts_osmocom_style.msc: adjust PDCH Act ack
  * OsmoBTS/abis/rsl.adoc: fix missing section header
  * OsmoBTS/chapters/dynamic-timeslots.adoc: Remove obsolete links
  * osmobts-usermanual.adoc: fix link to abis.adoc chapter
  * OsmoBTS/chapters/configuration.adoc: fix index numbering
  * OsmoBTS/abis/rsl: cosmetic: 'IPA style'
  * OsmoBTS/abis/rsl: add missing info for Osmocom Dyn Channels
  * make clean: also remove generated image files
  * add 'make check' target
  * OsmoBTS/abis/rsl: combine separate dyn ts sections
  * fix 'make clean': shell glob, ignore failure
  * OsmoBTS/abis/rsl: split dyn TS ladder diagrams to fit on page
  * fix build: abis: re-add dependencies
  * dynamic timeslots: add BSC level config instructions
  * refactor Makefile build rules, don't use the FORCE

  [ Keith Whyte ]
  * log: add error log for RSL Chan Mode Modif
  * fix handling of odd pchans in bts_supports_cm()

  [ Omar Ramadan ]
  * Add OC-2G BTS sources

  [ Max ]
  * osmo-bts-trx: print TRX socket addresses in 'show transceiver'
  * Fix type mismatch
  * Drop unused function
  * Add OsmoBTS control interface description
  * Move RTP AMR doc to top level
  * Add DTX implementation details to RTP AMR
  * Sync DTX FSM with OsmoBTS code

  [ Holger Hans Peter Freyther ]
  * OsmoBTS: Fix the author name and mail address

  [ Jonathan Brielmaier ]
  * fix various typos across all manuals

  [ Daniel Willmann ]
  * Add section about configuring power-ramping
  * OsmoBTS: Print VTY command in fixed-width font
  * OsmoBTS: Fix typo

  [ Alexander Couzens ]
  * OsmoBTS: add vty reference documentation
  * OsmoBTS: generate osmobts-abis.pdf again

  [ Ivaylo Kostov ]
  * BSC,BTS: add diagrams of PCU-BTS-NITB-SGSN relationships

  [ Philipp ]
  * Describe how to run multiple instances of osmo-nitb and osmo-bts

  [ Oliver Smith ]
  * build manuals moved here from osmo-gsm-manuals.git
  * Fix DISTCHECK_CONFIGURE_FLAGS override
  * contrib/jenkins_*.sh: build and publish manuals
  * contrib: fix makedistcheck with disabled systemd

 -- Harald Welte <laforge@gnumonks.org>  Sun, 20 Jan 2019 21:13:37 +0100

osmo-bts (0.8.1) unstable; urgency=medium

  [ Neels Hofmeyr ]
  * cosmetic: dyn TS: clarify rsl_tx_rf_rel_ack() with a switch
  * dyn TS: fix TCH/F_TCH/H_PDCH: properly record release of PDCH TS
  * dyn TS: rx_rf_chan_rel: properly mark PDCH rel when no PCU, clarify
  * dyn TS: clear TCH state upon reconnecting as PDCH
  * cosmetic: dyn TS: clarify chan_nr composition
  * ignore RSL RF CHAN REL for inactive lchans
  * fix RSL Chan Activ Nack messages
  * ip.access dyn ts: properly NACK a PDCH ACT on a still active lchan
  * add/improve various logging around dyn ts
  * dyn TS: be less strict on chan_nr, to allow arbitrary pchan switches

  [ Stefan Sperling ]
  * send a State Changed Event Report when rf is locked/unlocked

  [ Harald Welte ]
  * rsl: log errors when parsing of  encryption information fails
  * rsl: Make channel activation fail if encryption algorithm not supported
  * rsl: Properly NACK CHAN_ACKT / MODE_MODIFY
  * rsl: If CHAN ACT or MODE MODIF fails, send respective NACK
  * osmo-bts-trx: Enable A5/3 cipher support

 -- Pau Espin Pedrol <pespin@sysmocom.de>  Tue, 15 May 2018 14:08:47 +0200

osmo-bts (0.8.0) unstable; urgency=medium

  [ Neels Hofmeyr ]
  * vty: skip installing cmds now always installed by default
  * jenkins_common.sh: fix build_bts distcheck for more than one conf_flag
  * fix build: tests/sysmobts: add missing -I$(SYSMOBTS_INCDIR)
  * fix handover: handle_ph_ra_ind(): evaluate ra_ind before msgb_trim()
  * implement support for 3-digit MNC with leading zeros
  * configure: add --enable-werror
  * use osmo_init_logging2() with proper talloc ctx

  [ Pau Espin Pedrol ]
  * lc15: Fix cfg indentation
  * l1sap: Fix abort on big RTP packet received
  * bts-trx: trx_ctrl_cmd: Simplify var assignment logic
  * bts-trx: Avoid enqueueing consecutive duplicate messages to TRX
  * Fix malformed Resource Indication packet
  * debian/control: Remove uneeded dep libosmo-netif-dev
  * jenkins.sh: Disable building doxygen for deps
  * oml.c: Fix use of htons instead of ntohs
  * bts-trx: trx_if.c: Log timedout+retransmitted CMD
  * bts-trx: trx_if.c: trx_ctrl_read_cb: Move error handling to end of func
  * bts-trx: trx_if.c: Improve parsing of received RSP messages from TRX
  * bts-trx: Detect duplicated responses for retransmitted commands
  * gsm_pchan2chan_nr: move warning to pragma message and track issue
  * Remove unused variables
  * bts-trx: scheduler_trx.c: Fix missing header
  * l1sap.c: l1sap_tch_rts_ind: Remove unused variables
  * octphy: octpkt.c: Remove unused static functions
  * vty.c: Remove warning message
  * virtual: l1_if.c: Remove unneeded warning message
  * main.c: bts_main: fix typo in error message
  * l1sap: Validate incoming RTP payload, drop bw-efficient AMR
  * l1sap: Avoid assumption that l1sap is at head of msgb
  * contrib: jenkins_bts_model: Fix bashism expr
  * Include missing headers for osmo_init_logging2
  * common/sysinfo.c: Fix no return on on-void function
  * gsm_data_shared.h: Remove unused enum gsm_paging_event
  * scheduler_trx: Fix signed integer overflow in clock calculations

  [ Harald Welte ]
  * trx: Better be safe than sorry before calling strlen
  * trx: Avoid NULL+1 dereference in trx_ctrl_read_cb()
  * trx: Don't call osmo_fr_check_sid with negative 'rc'
  * trx: Don't assume phy_instance_by_num() returns non-NULL
  * l1sap: fix wrong return value of is_fill_frame()
  * measurement.c: Fix various typos in comments
  * Comments on individual members of struct gsm_abis_mo
  * scheduler: Harmonize log line format; Always print TS name + decoded FN
  * scheduler_trx: L1P is for PH (data), L1M for MPH (control)
  * l1sap: Fix log subsystem: Use DRTP for RTP related bits, L1C for MPH
  * measurment.c: Introduce INFO category for DMEAS logging
  * osmo-bts-octphy: Remove bogus warning about BS_AG_BLKS_RES
  * rsl.c: Log RTP socket related errors as DRTP, not DRSL
  * Put useful information in RTCP SDES.
  * osmo-bts-trx: Fix reported frame number during PRIM_INFO_MEAS
  * DTX: avoid illegal character contained in DTX FSM allocation which causes BTS crash
  * gsm_lchan: remove unused member fields
  * Add 'show (bts|trx|ts|lchan)' commands
  * Print much more information during 'show lchan'
  * vty: don't print "Bound IP / Port" if it isn't bound [yet]
  * osmo-bts: Add talloc context introspection via VTY
  * sysmo: Fix compiler warnings in eeprom.c
  * sysmo+lc15: Add missign include for readv/writev
  * trx: make l1if_fill_meas_res() static
  * RSL: Properly reject RSL CHAN_NR IE for incompatible PCHAN
  * RSL: Ensure we don't accept DCHAN messages for CCHAN
  * osmo-bts-virtual: Shut down gracefully on socket creation failure
  * osmo-bts-virtual: Generate PRIM_INFO_MEAS (with bogus values)
  * Introduce + use LOG/DEBUGP with frame number prefixing/printing
  * osmo-bts-virtual: Make use of LOGL1S() macro for context
  * osmo-bts-virtual: Make sure PRIM_INFO_MEAS have non-zero frame number
  * scheduler.c: Factor out find_sched_mframe_idx() function
  * scheduler: add trx_sched_is_sacch_fn() function
  * Revert "measurement: fix measurement computation"
  * measurement.c: Hand Frame Number into measurement computation
  * l1sap: Pass is_sub from L1 primitive into the Uplink Measurement
  * osmo-bts-trx: Add missing frame number to l1if_process_meas_res()
  * scheduler.c: Print message when burst substitution happens
  * load_indication: Fix start of load indication timer
  * RSL: Implement DELETE INDICATION on AGCH overflow
  * RSL: Send ERROR REPORT on too short/truncated messages + wrong discriminator
  * BTS: add rate_ctr about CCCH (paging, agch, pch)
  * paging: Drop + Log paging requests for non-existant paging groups
  * paging.c: Fix encoding of optional Mobile ID RR PAGING TYPE 1 / 2
  * rsl: Improve ERROR REPORTing
  * paging: Fix encoding of PAGING TYPE 3 Rest Octets
  * RSL IPA DLCX: Avoid null-pointer dereference
  * RSL: Fix encoding of ConnectionID in IPA_DLCX_ACK
  * RSL IPA DLCX: Avoid another null-pointer dereference
  * measurement.c: Fix sdcch4_meas_rep_fn102 / sdcch8_meas_rep_fn102
  * counters: split rach:sent into rach:drop, rach:ho, rach:cs and rach:ps
  * octphy: Remove code duplication for BER / RSSI conversion
  * {sysmo,lc15}: Correctly report BER to L1SAP in INFO_MEAS_IND
  * {sysmo,lc15}: Fix RACH reporting in combined CBCH case
  * split scheduler_mframe.c from scheduler.c
  * measurement: Compute RX{LEV,QUAL}-SUB for SDCCH and non-AMR TCH
  * measurement.c: Don't silently copy "FULL" measurements to "SUB"
  * scheduler: Add missing \n at end of LOG statement
  * Move rach_busy counting above L1SAP
  * RACH decoding: Use BER threshold for RACH ghost detection
  * trx/scheduler: Use integer math for TOA (Timing of Arrival)
  * measurement.c: higher-precision TA/TOA math
  * L1SAP: Increase resolution of reported burst timing
  * measurement: Keep average of high-accurate ToA value in lchan
  * Add high-accuracy ToA value to Uplink Measurement Reports
  * pcu_sock: Discard messages that are too short
  * pcu_sock: Don't overflow the timeslot array
  * pcu_sock: Log an error message and discard PCU primitives for BTS != 0
  * pcu_sock: LOG + drop DATA.req from PCU for non-PDCH timeslot
  * pcu_sock: LOG + drop PCU DATA.req for inactive lchan
  * sysinfo.c: SI1 is optional; Send SI2 at TC=0 if no SI1 exists
  * sysmobts: Compatibility with older firmware versions
  * cosmetic: Document some SI scheduling related function API
  * sysinfo: Fix scheduling of downlink SACCH information
  * gsm_data_shared: Remove unused definitions/members/functions
  * cosmetic: Move agch_queue to sub-structure of gsm_bts_role_bts
  * Get rid of 'struct gsm_bts_role_bts'
  * virtual: Correctly set+report BTS variant in OML attributes
  * Add 'osmo-bts-omldummy' to bring up only OML without RSL
  * fix inverted logic bug in omldummy patch
  * omldummy: Suppress RSL transmission errors
  * debian: Split osmo-bts-virtual from osmo-bts-trx
  * fox chan_nr_is_dchan() for RSL_CHAN_OSMO_PDCH
  * rsl_tx_dyn_pdch_ack: Add missing FRAME_NR information element
  * fix activation of osmocom-style dynamic PDCH as TCH/F or TCH/H

  [ Philipp Maier ]
  * octphy: override firmware version check
  * cosmetic: meas_test: fix section comment
  * cosmetic: tests/Makefile.am: remove excess whitespace
  * cosmetic: tests/power: remove unused var "ret"
  * cosmetic: tests/agch: remove unused var "static_ilv"
  * octphy: l1_oml: check returncode of trx_by_l1h()
  * meas_test: fix header file references
  * rsl: fix double-free in rsl_rx_mode_modif()
  * fix nullpointer deref in rsl_tx_mode_modif_nack()
  * rsl: do not allow MODE MODIFY request with unsupp. codec/rate
  * gsm_data_shared: extend bts feature list with speech codecs
  * octphy: ensure all BTS models set features
  * vty: display bts features in vty command show bts
  * bts: use feature list instead of speech codec table
  * octphy: replace #warning with #pragma message
  * ipac: fix log output
  * rsl: remove unused variable
  * l1_tch: remove dead code
  * cosmetic: remove dead code
  * cosmetic: remove unused variable
  * cosmetic: remove unused variable in osmo-bts-omldummy/main.c
  * octphy: integrate octasics latest header release
  * osmo-bts-trx: perform error concealment for FR frames

  [ Max ]
  * Remove leftover comments and checks
  * Log filenames on L1 errors
  * Add --enable-sanitize configure option
  * Use existing function to obtain TSC
  * Remove BSC-specific parts
  * Print FN delta on L1 errors
  * Move sysmobts-calib into osmo-bts-sysmo
  * Allow specifying sysmocom headers explicitly
  * fix build: tests/misc: missing libosmo-abis and -trau flags
  * Enable optional static builds
  * Remove unneeded LIBOSMOCORE_CFLAGS from tests
  * sysmobts: use proper includes for sbts2050 test
  * Move -I inside *INCDIR variable
  * sysmobts: remove weird default header location
  * sysmobts: move header check to appropriate place
  * CI: drop unused OsmoPCU dependency
  * Enable sanitize for CI tests
  * Add helper to get BCC from BSIC
  * osmo-bts-trx: init nbits to know value
  * osmo-bts-trx: ignore frame offset error on startup

  [ Vadim Yanitskiy ]
  * doc/examples: add CalypsoBTS configuration example
  * common/pcu_sock.c: fix double field assignment
  * scheduler_trx.c: remove ToA (Time of Arrival) hack
  * common/l1sap.c: increase the BTS_CTR_RACH_DROP in RACH BER check
  * common/l1sap.c: increment valid RACH counter after all checks
  * common/l1sap.c: clean up noise / ghost RACH filtering
  * common/l1sap.c: perform noise / ghost filtering for handover RACH
  * common/l1sap.c: limit the minimal ToA for RACH bursts
  * common/vty.c: remove unused variables
  * common/main.c: track talloc NULL contexts by default

  [ Alexander Huemer ]
  * cosmetic: Makefile.am whitespace
  * various Makefile.am: add missing CFLAGS
  * gitignore: add missing entries

  [ Stefan Sperling ]
  * Cosmetic fixes for power ramping code.
  * respond with NACK for non-hopping BTS with multiple ARFCN
  * cosmetic: fix typos in src/common/oml.c
  * return NACK codes instead of errno values from oml_tx_attr_resp()

  [ Alexander Couzens ]
  * pcuif_proto: correct indention of gsm_pcu_if_data
  * pcu_if: move definition PCU_SOCK_DEFAULT into pcuif_proto.h
  * pcuif_proto: add version 8 features

  [ Keith ]
  * osmo-bts-sysmo eeprom.c Restore ability to read/write EEPROM

 -- Pau Espin Pedrol <pespin@sysmocom.de>  Thu, 03 May 2018 17:02:19 +0200

osmo-bts (0.7.0) unstable; urgency=medium

  [ Max ]
  * Use value string check from osmo-ci
  * Support sending SI13 to PCU
  * Support removing SI13 from PCU
  * trx: avoid deactivating lchan on LCHAN_REL_ACT_REACT
  * Check readv() return value to prevent crash
  * OML: print actual type of report sent to BSC
  * Replace dead code
  * vty: print version and description for each phy
  * Remove build dependency on legacy OpenBSC
  * Fix multiple SI2q reception
  * jenkins: remove openbsc dependency
  * sysmo: use clock calibration source wrapper
  * sysmo: don't override clock source with defaults
  * Fix race condition in attribute reporting
  * Move power loop to generic tests
  * Make power test more verbose

  [ Neels Hofmeyr ]
  * vty: mgr: sysmobts, lc15: install default commands for ACT_NORM_NODE
  * osmo-bts-trx: vty: various fixes of 'write file' and doc
  * jenkins: use osmo-clean-workspace.sh before and after build

  [ Pau Espin Pedrol ]
  * l1sap: Improve log msg when frame diff >1
  * vty: Print string for Administrative state

  [ Harald Welte ]
  * Fix Downlink AMR FSM name to avoid illegal space character
  * update dependencies to latest libosmo-*
  * configure.ac: Fix Mailing list address

 -- Harald Welte <laforge@gnumonks.org>  Sat, 28 Oct 2017 20:53:21 +0200

osmo-bts (0.6.0) unstable; urgency=medium

  [ Holger Hans Peter Freyther ]
  * Initial release.
  * misc: Ignore files generated by a debian packaging build
  * jenkins: Add the build script from jenkins here
  * jenkins: Add the build script from jenkins here
  * sysmobts: Add the barebox boot state reservation
  * sysmobts: Fix eeprom padding before gpg key
  * ci/spatch: Remove the "static" analysis handling
  * oct: Attempt to enable the Octphy for the osmo-bts-oct build
  * debian: Use the header files installed by openbsc-dev
  * build: Do not require more headers from OpenBSC
  * sysmobts: Make reservation for mode/netmask/ip and suc
  * sysmobts: Store a simple network config in the EEPROM as well

  [ Max ]
  * Ensure TRX invariant
  * Use libosmocore function for uplink measurements
  * Fix debug output
  * Fix RTP timestamps in case of DTX
  * Add DTXd support for sysmoBTS and LC15
  * Use libosmocodec for AMR RTP
  * octphy: Use the app. info. defaults as base
  * Fix debug output
  * DTXd: store/repeat last SID
  * DTXd: store/repeat last SID
  * DTXu: mark beginning of speech burst in RTP
  * Fix OML activation
  * TRX: Add vty command to power on/off transceiver
  * TRX: add configuration example
  * Add .gitreview
  * DTX: add support for AMR/HR
  * Move copy-pasted code into common part
  * Use libosmocodec functions for AMR
  * Use error values instead of number for RSL error
  * Clarify logging message
  * Make get_lchan_by_chan_nr globally available
  * DTXu: move copy-pasted code to common part
  * Remove duplicated nibble shift code
  * TRX: add Uplink DTX support for FR/HR
  * Mark array as static const
  * sysmobts: dump PRACH and PTCCH parameters
  * Activate PTCCH UL
  * Fix dsp tracing at phy config
  * octphy: fix build
  * Fill measurements data for L1SAP
  * sysmo: ts_connect: log channel combination name instead of number
  * DTX: fix last SID saving
  * DTX: fix SID repeat scheduling
  * DTX: fix SID logic
  * lc15, sysmo: Use SID_FIRST_P1 to initiate DTX
  * DTX: check Marker bit to send ONSET to L1
  * DTX: remove misleading comment
  * LC15: Clarify msgb ownership / fix memory leaks
  * DTX: move scheduling check inside repeat_last_sid
  * DTX: further AMR SID cache fixes (lc15, sysmo)
  * DTX: move ONSET detection into separate function
  * DTX: send AMR voice alongside with ONSET
  * DTX: fix conversion from fn to ms
  * Move copy-pasted array into shared header
  * DTX DL: use FSM for AMR
  * TRX: fix building with latest DTX changes
  * DTX: fix array size calculation
  * DTX AMR - fix buffer length check
  * Replace magic number with define
  * Fix lc15 build
  * Extend RTP RX callback parameters
  * DTX HR - fix array size calculation
  * Fix DTX DL AMR SIDscheduling logic
  * Add tools to check DTX operation
  * DTX DL: split ONSET state handling
  * Remove obsolete define
  * DTX DL: add AMR HR support to scheduling check
  * DTX fix ONSET handling
  * dtx_check.gawk: Fix false-positives in DTX check
  * Fix tests linking with libosmocodec
  * DTX DL: tighten check for enabled operation
  * DTX: wrap FSM signal dispatching
  * Add libosmocodec for octphy build
  * dtx_check.gawk: add check for repetitive SID FIRST
  * Remove duplicated code
  * Replace link_id constant with define
  * DTX DL AMR: rewrite FSM recursion
  * Remove duplicated code
  * Fix AGCH/PCH proportional allocation
  * TRX: prevent segfault upon phy init
  * DTX: add explicit check if DTX enabled
  * Save RTP metadata in Control Buffer
  * osmo-bts-trx: fix lchan deactivation
  * DTX: fix TS adjustment for ONSET
  * Optionally use adaptive RTP jitter buffering
  * Integrate Debian packaging changes
  * DTX AMR HR: fix inhibition
  * Add copyright for .deb packages
  * Move code to libosmocore
  * Log socket path on error
  * Add Abis OML failure event reporting
  * Alarm on various errors
  * Remove obsolete define TLVP_PRES_LEN
  * scheduler: log lchan on which prim error occured
  * deb: use gsm_data_shared.* from openbsc-dev
  * OML: internalize failure reporting
  * Add ctrl command to send OML alert
  * Fix typo in TCH/H interleaving table
  * Use oml-alert CTRL command for temp report
  * Remove code duplication
  * Handle ctrl cmd allocation failures
  * Check for suitable lchan type when detecting HO
  * osmo-bts-trx: fix scheduling of broken frames
  * Sync protocol with OsmoPCU
  * vty: reduce code duplication
  * Handle TXT indication from OsmoPCU
  * Add MS TO to RSL measurements
  * Signal to BSC when PCU disconnects
  * Prepare for extended SI2quater support
  * Set BTS variant while initializing BTS model
  * Prepare for BTS attribute reporting via OML
  * osmo-bts-trx: use libosmocoding
  * Remove redundant test
  * Implement basic Get Attribute responder
  * Add version to phy_instance
  * OML: fix Coverity-reported issues
  * Re-add version to phy_instance
  * Use systemd template specifiers
  * Place *-mgr config examples according to BTS model
  * lc15: add example systemd service file
  * Extend Get Attribute responder
  * Set and report BTS features
  * Cleanup SI scheduling
  * RSL: receive and send multiple SI2q messages
  * RSL: check for abnormal SI2q values
  * lc15bts-mgr: use extended config file example
  * Move parameter file opening into separate function
  * Move common steps into common jenkins helper
  * lc15: add jenkins helper
  * Use generic L1 headers helper
  * Copy sysmobts.service to osmo-bts-sysmo
  * OML: move BTS number check into separate function
  * lc15: make jenkins helper executable
  * lc15: fix jenkins build
  * Add missing include for abis.h header file
  * RSL: receive and send multiple SI2q messages
  * Use release helper from libosmocore
  * si2q: do not consider count update as error
  * Cleanup example config files
  * Fix .deb build
  * Unify *.service files
  * lc15: cleanup board parameters reading
  * lc15-mgr: update parameter read/write
  * lc15: fix BTS revision and hw options
  * lc15: make default config usable
  * lc15: port lc15bts-mgr changes
  * lc15bts-mgr: separate service file
  * lc15: port lc15bts-mgr dependency changes
  * Simplify jenkins build scripts
  * OML: use fom_hdr while handling attr. request
  * osmo-bts-trx: fix 'osmotrx legacy-setbsic'
  * osmo-bts-trx: remove global variables from loops

  [ Daniel Laszlo Sitzer ]
  * octphy: Update outdated config param name in error message.

  [ Jason DSouza ]
  * Close TRX session before opening new one

  [ Minh-Quang Nguyen ]
  * l1sap.h: fix wrong L1SAP_FN2PTCCHBLOCK calculation according to TS 45.002 Table 6
  * common/abis.c: fix 100% CPU usage after disconnecting OML/RSL link (Bug #1703)
  * LC15: Bring back DSP trace argument
  * LC15: Hardware changes
  * LC15: TRX nominal TX power can be used from EEPROM or from BTS configuration
  * rsl: Fix dropping of LAPDm UA message.
  * LC15: properly handle BS-AG-BLKS-RES as received from BSC

  [ Neels Hofmeyr ]
  * sysmo: add L3 handle to l1prim messages
  * pcu_sock: add pcu_connected() to query PCU availability
  * tests/stubs.c: remove unused stubs
  * fix typo in error message ('at lEast')
  * oml, Set Chan Attr: treat unknown PCHAN types as error
  * dyn PDCH: rsl rx dchan: also log ip.access message names
  * doc: add ladder diagram on dynamic PDCH, add msc-README
  * add missing DSUM entry to bts_log_info_cat
  * fix compiler warning: printf format for sizeof()
  * fix compiler warning: add missing case (PHY_LINK_CONNECTING)
  * fix two compiler warnings: add two opaque struct declarations
  * dyn PDCH: add bts_model_ts_connect() and _disconnect() stubs
  * dyn PDCH: conf_lchans_for_pchan(): handle TCH/F_PDCH
  * dyn PDCH: pcu_tx_info_ind(): handle TCH/F_PDCH in PDCH mode
  * dyn PDCH: chan_nr_by_sapi(): handle TCH/F_PDCH according to ts->flags
  * dyn PDCH: implement main dyn PDCH logic in common/
  * dyn PDCH: sysmo-bts/oml.c: add ts_connect_as(), absorbing ts_connect() guts
  * dyn PDCH: sysmo: handle TCH/F_PDCH init like TCH/F
  * dyn PDCH: complete for sysmo-bts: implement bts_model_ts_*()
  * error log: two minor clarifications
  * debug log: log lchan state transitions
  * debug log: log TS pchan type on connect
  * fix lc15 build: put src/common/libbts.a left of -losmogsm
  * lc15: add L3 handle to l1prim messages
  * dyn PDCH: lc15: chan_nr_by_sapi(): handle TCH/F_PDCH according to ts->flags
  * dyn PDCH: lc15: add ts_connect_as(), absorbing ts_connect() guts
  * dyn PDCH: lc15: handle TCH/F_PDCH init like TCH/F
  * dyn PDCH: lc15: complete for litecell15-bts: implement bts_model_ts_*()
  * dyn PDCH: safeguard: exit if nothing pending in dyn_pdch_ts_disconnected()
  * vty: install orphaned trx nominal power command
  * fix compiler warnings: include bts_model.h in phy_link.c
  * fix compiler warning: remove useless 'static' storage class for struct decl
  * fix compiler warning: remove unused variable 'i' in calib_verify()
  * log: osmo-bts-trx: change access burst logs to DEBUG level
  * log: osmo-bts-trx: change PDTCH block logs to DEBUG level
  * osmo-bts-trx: init OML only once by sending AVSTATE_OK with OPSTATE_ENABLED
  * doc: move dyn_pdch.msc to osmo-gsm-manuals.git
  * error log: rsl.c: typo x2
  * info log: l1sap.c: add '0x' to hex output
  * fix compiler warning: msg_utils.c: fn_chk() constify arg
  * fix compiler warning: msg_utils.c: fn_chk() constify arg
  * info log: l1sap.c: add '0x' to hex output
  * error log: rsl.c: typo x2
  * dyn PDCH: code dup: use conf_lchans_as_pchan()
  * prepare dyn TS: split/replace conf_lchans_for_pchan()
  * code dup: join [rsl_]lchan_lookup() from libbsc and osmo-bts
  * dyn TS: common TCH/F_TCH/H_PDCH implementation
  * sysmo/oml.c: rename ts_connect() to ts_opstart()
  * dyn TS: implement SysmoBTS specifics
  * lc15/oml.c: rename ts_connect() to ts_opstart()
  * dyn TS: implement litecell15 specifics
  * comment typo: common/l1sap.c
  * log typo: trx_sched_set_pchan()
  * dyn TS: sysmo,lc15: chan_nr_by_sapi(): add missing assertion
  * fix comment in common/l1sap.c, function name changed
  * dyn TS, dyn PDCH: common/l1sap.c: properly notice PDCH
  * dyn PDCH: trx l1_if.c: factor out trx_set_ts_as_pchan() from trx_set_ts()
  * dyn PDCH: complete for trx: implement bts_model_ts_[dis]connect()
  * dyn PDCH: trx l1_if.c: drop fixme, add comment
  * dyn TS: complete for TRX
  * dyn TS: measurement.c: replace fixme with comment
  * sysmo,lc15: ts_connect_as(): log error also for pchan_as == TCH/F_PDCH
  * sysmo: fix dyn TS: Revert "Activate PTCCH UL" [in sysmobts]
  * log: l1sap: add 0x to hex output of chan_nr, 5 times
  * dyn TS: measurement: use correct nr of subslots, rm code dup
  * dyn TS: sysmo,lc15: ph_data_req: fix PDCH mode detection
  * Fix ip.access style dyn PDCH, broken in 37af36e85eca546595081246aec010fa7f6fd0be
  * common/rsl: move decision whether to chan act ack/nack to common function
  * octphy: fix build: Revert "octphy: fix for multiple trx with more than 1 dsp"
  * octphy: fix build: Revert "octphy: add support for multiple trx ids"
  * octphy: fix build with OCTSDR-OPENBSC-02.07.00-B708: name changed
  * dyn TS: if PCU is not connected, allow operation as TCH
  * log: sysmo,lc15: tweak log about sapi_cmds queue
  * log causing rx event for lchan_lookup errors
  * heed VTY 'line vty'/'bind' command
  * sysmobts_mgr, lc15bts_mgr: fix tall context for telnet vty
  * build: be robust against install-sh files above the root dir
  * configure: check for pkg-config presence
  * jenkins.sh: use osmo-build-dep.sh, log test failures
  * msgb ctx: use new msgb_talloc_ctx_init() in various main()s
  * jenkins-oct.sh: fix build: typo in deps path
  * fix 'osmo-bts-* --version' segfault
  * osmo-bts-trx: remove obsolete include of netif/rtp.h
  * add jenkins_bts_trx.sh
  * add jenkins_oct_and_bts_trx.sh
  * jenkins: add jenkins_bts_model.sh
  * bursts test: test_pdtch: pre-init result mem
  * fix: dyn ts: uplink measurement report
  * fix missing ~ in bit logic for lchan->si.valid in rsl_rx_sacch_inf_mod()
  * SACCH: fix sending of SI with an enum value > 7
  * SACCH SI: assert that SI enum vals fit in bit mask
  * all models: fix vty write: bts_model_config_write_phy
  * jenkins: add value_string termination check
  * Revert "Add version to phy_instance"
  * Revert "RSL: check for abnormal SI2q values"
  * Revert "RSL: receive and send multiple SI2q messages"

  [ Harald Welte ]
  * sysmobts: screnrc/systemd-service: Use osmo-bts-sysmo instead of sysmobts
  * Add .mailmap for mapping mail addresses in shortlog
  * vty: Ensure to not use negative (error) sapi value
  * sysmobts: Add correct nominal transmit power for sysmoBTS 1020
  * sysmobts_eeprom.h: Fix/extend model number definitions
  * Revert "sysmobts: Add correct nominal transmit power for sysmoBTS 1020"
  * tx_power: Change PA calibration tables to use delta vales
  * Add new unit-test for transmit power computation code
  * sysmobts: fully support trx_power_params
  * README: Add general project information and convert to markdown
  * README: update some of the limitations
  * sysmobts: Don't start with 0dBm TRX output power before ramping
  * Remove unusued left-over gsm0503_conv.c
  * scheduler_trx.c: Avoid code duplication for BER10k computation
  * scheduler_trx: Avoid copy+pasting determining CMR from FN
  * rx_tchh_fn(): Avoid copy+pasting formula to determine odd-ness of fn
  * Consistently check for minimum attribute/TLV length in RSL and OML
  * l1sap.c: Add spec reference to link timeout implementation
  * osmo-bts-trx: Remove duplicate parsing of NM_ATT_CONN_FAIL_CRIT
  * vty: Remove command for manual channel activation/deactivation
  * l1_if: Add inline functions to check dsp/fgpa version at runtime
  * sysmobts: Re-order the bit-endianness of every HR codec parameter
  * OML Add osmocom-specific way to deactivate radio link timeout
  * measurement: Remove dead code
  * l1sap.c: Factor out function to limit message queue
  * osmo-bts-sysmo/l1_if.c: PH-DATA.ind belongs to L1P, not L1C
  * l1sap: if lchan is in loopback, don't accept incoming RTP
  * TRX: Use timerfd and CLOCK_MONOTONIC for GSM frame timer (Closes: #2325)
  * Add loopback support for PDTCH
  * TRX: trx_if: Improve code description / comments
  * trx_if: Improve error handling
  * TRX: Rename trx_if_data() -> trx_if_send_burst()
  * TRX: merge/simplify l1_if and trx_if code
  * TRX: don't free l1h in trx_phy_inst_close()
  * l1sap: Don't enqueue PTCCH blocks for loopback
  * TRX: permit transmission of all-zero loopback frames
  * jenkins helpers: some minimal documentation/comments + print errors
  * VIRT-PHY: Initial check-in of a new virtual BTS
  * VIRT-PHY: Fix handling of default values for vty configuration
  * VIRT-PHY: Use IPv4 multicast groups for private / local scope
  * VIRT-PHY: cause BTS to terminate in case of recv()/send() on udp socket returns 0
  * Ensure we don't send dummy UI frames on BCCH for TC=5
  * virt: Don't print NOTICE log message if ARFCN doesn't match
  * VIRT-PHY: Report virtual RACH bursts with plausible burst type
  * scheduler: Fix wrong log subsystem: L1C is L1 *control* not user data
  * VIRT-PHY: Print NOTICE log message from unimplemented stubs
  * TRX / VIRT-PHY: Make check for BCCH/CCCH more specific
  * L1SAP: Print chan_nr and link_id always as hex
  * VIRT-BTS: Support for GPRS
  * L1SAP: Use RSL_CHAN_OSMO_PDCH across L1SAP
  * GSMTAP: Don't log fill frames via GSMTAP
  * TRX: Remove bogus extern global variable declarations
  * l1sap/osmo-bts-sysmo: Improve logging
  * TRX: Remove global variables, move SETBSIC/SETTSC handling into phy_link
  * Fix build after recent gsm_bts_alloc() change
  * Treat SIGTERM just like SIGINT in our programs

  [ Tom Tsou ]
  * trx: Add EGPRS tables, sequences, and mappings
  * trx: Add EGPRS coding and decoding procedures
  * trx: Enable EGPRS handling through burst lengths
  * trx: Fix coverity BER calculation NULL dereference

  [ Vadim Yanitskiy ]
  * pcu_sock: use osmo_sock_unix_init() from libosmocore
  * osmo-bts-trx/l1_if.c: use channel combination III for TCH/H
  * scheduler_trx.c: strip unused variable

  [ Mike McTernan ]
  * osmo-bts-trx: Fix PCS1900 operation
  * osmo-bts-trx: log decoder bit errors as DEBUG, not NOTICE

  [ bhargava ]
  * Change interface in osmo-bts for 11 bit RACH
  * Update parameters in osmo-bts-sysmo for 11bit RACH
  * 11bit RACH support for osmo-bts-litecell15
  * Initialize parameters in osmo-trx for 11bit RACH

  [ Philipp ]
  * octphy: Fixing missing payload type in ph. chan. activation
  * octphy: Fixing band selection for ARFCN 0
  * octphy: reintroducing multi-trx support
  * octopy: fixing renamed constant
  * octphy: prevent mismatch between dsp-firmware and octphy headers
  * rsl: improving the log output
  * octphy: multi-trx support: fix AC_CHECK order
  * RSL: drop obsolete NULL check
  * RSL: add assertions to check args of public API
  * OML: fix possible segfault: add NULL check in oml_ipa_set_attr()
  * CTRL: make the CTRL-Interface IP address configurable
  * l1sap: Fix expired rach slot counting
  * l1sap: fix missing 'else's causing wrong rach frame expiry counts
  * octphy: set tx attenuation via VTY
  * octphy: Improve OML ADM state handling

  [ Yves Godin ]
  * DTX: fix 1st RTP packet drop

  [ Alexander Chemeris ]
  * l1sap: Fix use-after-free in loopback mode.
  * vty: Add commands to manually activate/deactivate a channel.
  * trx: Add "maxdlynb" VTY command to control max TA for Normal Bursts.
  * rsl: Output RTP stats before closing the socket.
  * osmo-bts-trx: Fix MS power control loop.
  * osmo-bts-trx: Remove an unused variable. Resolves a compiler warning.
  * osmo-bts-trx: Increase a maximum allowed MS power reduction step from 2dB to 4dB.
  * Fix static build of osmo-bts-trx and osmo-bts-virtual.

  [ Jean-Francois Dionne ]
  * DTX: don't always perform AMR HR specific check
  * DTX: fix SID-FIRST detection
  * lc15,sysmobts l1_if: fix memleak in handle_mph_time_ind()
  * sysmo,lc15: fix memory leak at each call placed
  * DTX: fix "unexpected burst" error
  * Fix AMR HR DTX FSM logic.
  * Fix SACCH channel release indication not sent to BSC after location update.
  * Fix RTP duration adjustment not done when speech resumes in DTX mode.

  [ Ruben Undheim ]
  * Fix some spelling errors

  [ Holger Freyther ]
  * Revert "deb: use gsm_data_shared.* from openbsc-dev"

  [ Philipp Maier ]
  * octphy VTY: fix vty write output for octphy's phy section
  * octphy: Fix VTY commands
  * l1sap: fix rach reason (ra) parsing
  * l1sap: fix PTCCH detection
  * octphy: fix usage of wrong define constant
  * octphy: add CBCH support
  * l1sap: improve log output
  * octphy: print log message for multi-trx support
  * octphy: display hint in case of wrongly configured transceiver number
  * octphy: add conditional compilation to support latest octasic header release
  * octphy: set tx/rx antenne IDs via VTY
  * bts: revert trx shutdown order
  * octphy: activate CBCH after all physical channels are activated
  * octphy: align frame number for new firmware versions
  * octphy: ensure that 11 bit rach flag is not set
  * measurement: fix measurement reporting period
  * measurement: make lchan_meas_check_compute() available to l1sap.c
  * measurement: Compute measurement results on measurement idication
  * measurement: exclude idle channels from uplink measurement
  * octphy: integrate channel measurement handling
  * octphy: remove old event control code
  * osmo-bts-sysmo: Include frame number in MEAS IND
  * measurement: fix measurement computation
  * octphy: fix segfault
  * Revert "measurement: exclude idle channels from uplink measurement"
  * sysmobts: normalize frame number in measurement indication
  * measurement: Improve log output
  * measurement: improve log output
  * octphy: improve log output
  * octphy: initalize l1msg and only when needed
  * octphy: initalize nmsg only when needed
  * octphy: remove log output
  * Revert "sysmobts: normalize frame number in measurement indication"
  * osmo-bts-trx: fix missing frame number in MEAS IND
  * osmo-bts-litecell15: Fix missing frame number in MEAS IND
  * Revert "osmo-bts-sysmo: Include frame number in MEAS IND"
  * octphy: complete value strings (octphy_cid_vals)
  * octphy: do not send empty frames to phy
  * osmo-bts-sysmo: Include frame number in MEAS IND
  * measurement: fix measurment report
  * octphy: remap frame number in MEAS_IND
  * octphy: implement support for dynamic timeslots

  [ Ivan Klyuchnikov ]
  * osmo-trx-bts: Fix incorrect setting of RXGAIN and POWER parameters on second channel (TRX1) of osmo-trx
  * osmo-trx-bts: Fix osmo-bts-trx crash on startup during reading phy instance parameters from config file
  * osmo-trx-bts: Fix incorrect bts shutdown procedure in case of abis connection closure
  * osmo-trx-bts: Fix incorrect bts shutdown procedure in case of clock loss from osmo-trx

  [ Ivan Kluchnikov ]
  * oml: Fix incorrect usage of const variable abis_nm_att_tlvdef_ipa

  [ Pau Espin Pedrol ]
  * phy_link: Fix typo in state being printed
  * trx: Allow BTS and TRX to be on different IPs
  * trx: Save osmotrx base-port vty properties
  * sysmo/tch.c: Clean up use of empty buffer
  * litecell15/tch.c: Clean up use of empty buffer
  * Use L1P instead of L1C for TCH logging and allocation
  * Fix annoying trailing whitespace
  * sysmo, litecell15: Make sure all TCH events are triggered
  * sysmo: Remove non longer valid -p option from help
  * Allow passing low link quality buffers to upper layers
  * l1sap.c: Avoid sending RTP frame with empty payload
  * l1sap.c: fn_ms_adj: Add err logging and always return GSM_RTP_DURATION
  * Move dump_gsmtime to libosmocore as osmo_dump_gsmtime
  * Use osmo_dump_gsmtime to log fn across different layers
  * lc15bts-mgr.cfg: Set default vswr to a value inside valid range
  * litecell15: Register in vty limits for paX_pwr
  * lc15: Tweak led colors used in service file
  * lc-15, sysmo: l1_if: print name on PH-DATA.ind unknwon sapi
  * lc15bts-mgr.service: Prepare dirs and sysctls for the process
  * osmo-bts-trx: Enable osmotrx tx-attenuation oml by default
  * osmo-bts-trx: Relax validation to allow TRX data bursts without padding

  [ Sebastian Stumpf ]
  * VIRT-PHY: Added example configurations for openbsc and osmobts.
  * VIRT-PHY: Fixed timeslot in gsmtap-msg on downlink which was always 0.
  * VIRT-PHY: Added test option for fast hyperframe repeat.

 -- Max <msuraev@sysmocom.de>  Fri, 25 Aug 2017 15:16:56 +0200

osmo-bts (0.5.0) unstable; urgency=medium

  * Initial release.

 -- Holger Hans Peter Freyther <holger@moiji-mobile.com>  Fri, 01 Apr 2016 16:13:40 +0200
